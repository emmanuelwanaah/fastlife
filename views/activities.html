<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800">
    
    <!-- Language targeting -->
    <link rel="alternate" hreflang="en" href="https://fastlifetraveltour.com/activities.html" />
    <link rel="alternate" hreflang="fr" href="https://fastlifetraveltour.com/activities.html" />
  
    <!-- Title & Meta (Bilingual) -->
    <title>FastLifeTravel - Activities & Excursions | Activités & Excursions</title>
    <meta name="description" content="Discover and book unforgettable activities worldwide | Découvrez et réservez des activités inoubliables dans le monde entier.">
    <meta name="keywords" content="activities, excursions, tours, Caribbean, Europe, adventures, travel, activités, excursions, circuits, voyages">
    <meta name="author" content="FastLifeTravel">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0099ff">
    <meta name="language" content="fr,en">
  
    <!-- Open Graph -->
    <meta property="og:title" content="FastLifeTravel - Activities & Excursions | Activités & Excursions">
    <meta property="og:description" content="Find the best tours and activities across the Caribbean and beyond. Découvrez les meilleures activités aux Caraïbes et ailleurs.">
    <meta property="og:image" content="/asset/img/meta.jpg">
    <meta property="og:url" content="https://fastlifetraveltour.com/activities.html">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:locale:alternate" content="en_US">
  
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FastLifeTravel - Activities & Excursions | Activités & Excursions">
    <meta name="twitter:description" content="Book amazing activities & tours worldwide. Réservez des activités et circuits incroyables partout dans le monde.">
    <meta name="twitter:image" content="/asset/img/meta.jpg">
  
    <!-- Canonical -->
    <link rel="canonical" href="https://fastlifetraveltour.com/activities.html">
  
    <!-- Global Website Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "url": "https://fastlifetraveltour.com",
      "name": "FastLifeTravelTour",
      "inLanguage": ["en", "fr"],
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://fastlifetraveltour.com/search?query={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
  
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home | Accueil",
          "item": "https://fastlifetraveltour.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Activities | Activités",
          "item": "https://fastlifetraveltour.com/activities.html"
        }
      ]
    }
    </script>
  
    <!-- Activities List Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "@id": "https://fastlifetraveltour.com/activities",
        "url": "https://fastlifetraveltour.com/activities",
        "name": "Activities List",
        "alternateName": "Liste des Activités",
        "inLanguage": ["en", "fr"],
        "numberOfItems": 5,
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "item": {
              "@type": "Thing",
              "name": "Eiffel Tower Guided Tour",
              "alternateName": "Visite guidée de la Tour Eiffel",
              "url": "https://fastlifetraveltour.com/activity/tour-eiffel"
            }
          },
          {
            "@type": "ListItem",
            "position": 2,
            "item": {
              "@type": "Thing",
              "name": "Caribbean Scuba Diving",
              "alternateName": "Plongée sous-marine aux Caraïbes",
              "url": "https://fastlifetraveltour.com/activity/scuba-caribbean"
            }
          },
          {
            "@type": "ListItem",
            "position": 3,
            "item": {
              "@type": "Thing",
              "name": "Colosseum Tour Rome",
              "alternateName": "Visite du Colisée à Rome",
              "url": "https://fastlifetraveltour.com/activity/rome-colosseum"
            }
          },
          {
            "@type": "ListItem",
            "position": 4,
            "item": {
              "@type": "Thing",
              "name": "Paris Gourmet Food Tour",
              "alternateName": "Circuit gastronomique à Paris",
              "url": "https://fastlifetraveltour.com/activity/paris-food-tour"
            }
          },
          {
            "@type": "ListItem",
            "position": 5,
            "item": {
              "@type": "Thing",
              "name": "Bali Temple & Culture Tour",
              "alternateName": "Visite des temples et culture à Bali",
              "url": "https://fastlifetraveltour.com/activity/bali-temple-tour"
            }
          }
        ]
      }
      </script>
      
  
    <!-- Styles & Icons -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f1f2f4] px-10 py-3">
          <div class="flex items-center gap-8">
            <div class="flex items-center gap-4 text-[#121516]">
              
              <img class="d-inline-block align-top img-fluid" src="/assets/img/logo.png" alt="" width="90" />
            </div>
            <div class="flex items-center gap-9">
              <a class="text-[#121517] text-sm font-medium leading-normal" href="dashboard.html">Explore</a>
              <a class="text-[#121517] text-sm font-medium leading-normal" href="wishlist.html">Wishlist</a>
              <a class="text-[#121517] text-sm font-medium leading-normal" href="completedbookings.html">Trips</a>
            </div>
          </div>
          <div class="flex flex-1 justify-end gap-8">
           
            <div class="relative">
              <a href="/wishlist.html" class="relative text-red-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 21.35l-1.45-1.32C5.4 ...z"/>
                </svg>
                <span id="wishlist-count"
                  class="absolute -top-1 -right-2 text-[10px] bg-red-500 text-white rounded-full px-1">0</span>
              </a>
            </div>
            
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDwernhBY7ENQaD7aXFv3JRBc2OiYhFyJExN9xusoQOtT6ojP0MFql7RnI7DKp9j-A4Vw332Ltwi6yV3kX7Igo-mKuNcUgYoxlm_MbtppPljICpZBgVhb1LsHB2-xFp3-H4AmmS8u0rsIfNk6U4SIWJOwlnZEk_e9m1qFeRWxGPHbDFVKBCM1PBABIPhyQbdc-PX9uaomNRxFf7c0OboY2kMP3Z2MQUpR0s6x7HweCdxC43fLnY7qULCfG7AAhMmHovk5E_7203xhk");'
            ></div>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <p id="location-heading" class="text-[#121516] tracking-light text-[32px] font-bold leading-tight min-w-72">Activities in</p>

            </div>
            <div class="px-4 py-3">
              <label class="flex flex-col min-w-40 h-12 w-full">
                <div class="flex w-full flex-1 items-stretch rounded-xl h-full">
                  <div
                    class="text-[#6a7681] flex border-none bg-[#f1f2f4] items-center justify-center pl-4 rounded-l-xl border-r-0"
                    data-icon="MagnifyingGlass"
                    data-size="24px"
                    data-weight="regular"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path
                        d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"
                      ></path>
                    </svg>
                  </div>
                  <input
                    placeholder="Search for activities"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#121516] focus:outline-0 focus:ring-0 border-none bg-[#f1f2f4] focus:border-none h-full placeholder:text-[#6a7681] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                    value=""
                  />
                </div>
              </label>
            </div>
            <div id="related-activities" class="grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-4"></div>
            <div class="flex items-center justify-center p-4">
              <a href="#" class="flex size-10 items-center justify-center">
                <div class="text-[#121516]" data-icon="CaretLeft" data-size="18px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"></path>
                  </svg>
                </div>
              </a>
              <a class="text-sm font-bold leading-normal tracking-[0.015em] flex size-10 items-center justify-center text-[#121516] rounded-full bg-[#f1f2f4]" href="#">1</a>
              <a class="text-sm font-normal leading-normal flex size-10 items-center justify-center text-[#121516] rounded-full" href="#">2</a>
              <a class="text-sm font-normal leading-normal flex size-10 items-center justify-center text-[#121516] rounded-full" href="#">3</a>
              <span class="text-sm font-normal leading-normal flex size-10 items-center justify-center text-[#121516] rounded-full" href="#">...</span>
              <a class="text-sm font-normal leading-normal flex size-10 items-center justify-center text-[#121516] rounded-full" href="#">10</a>
              <a href="#" class="flex size-10 items-center justify-center">
                <div class="text-[#121516]" data-icon="CaretRight" data-size="18px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path>
                  </svg>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const params = new URLSearchParams(window.location.search);
      const id = params.get('id');
      const container = document.getElementById('related-activities');
      const countDisplay = document.getElementById('wishlist-count');
    
      if (!id) {
        container.innerHTML = '<p class="text-red-600">Invalid explore ID.</p>';
        return;
      }
    
      try {
        const exploreRes = await fetch(`/api/explore/${id}`);
        const explore = await exploreRes.json();
        document.getElementById('location-heading').textContent = `Activities in ${explore.location}`;
    
        const activitiesRes = await fetch(`/api/activities?location=${encodeURIComponent(explore.location)}`);
        const activities = await activitiesRes.json();
    
        const wishlistRes = await fetch('/api/wishlist');
        const wishlist = wishlistRes.ok ? await wishlistRes.json() : [];
        const wishlistSet = new Set(wishlist.map(item => item.id));
        if (countDisplay) countDisplay.textContent = wishlistSet.size;
    
        container.innerHTML = activities.map(act => `
          <div class="flex flex-col gap-3 pb-3 group cursor-pointer" data-id="${act.id}">
            <div class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl"
                 style='background-image: url("${act.image_url}")'></div>
            <div>
              <p class="text-[#121516] text-base font-medium leading-normal">${act.title}</p>
              <p class="text-[#6a7681] text-sm font-normal leading-normal">${act.location}</p>
              <p class="text-[#6a7681] text-sm font-normal leading-normal">
                ${(act.category_name || 'Activity')} · €${Number(act.price).toFixed(2)}
              </p>
              <div class="flex items-center gap-2 mt-2">
                <button class="wishlist-btn text-red-500" data-id="${act.id}">
                  <ion-icon name="${wishlistSet.has(act.id) ? 'heart' : 'heart-outline'}" class="text-2xl md:text-3xl"></ion-icon>
                </button>
                <span class="text-sm text-gray-500">Ajouter à la liste de souhaits</span>
              </div>
              
            </div>
          </div>
        `).join('');
    
        container.querySelectorAll('.wishlist-btn').forEach(btn => {
          btn.addEventListener('click', async e => {
            e.stopPropagation();
            const activityId = btn.dataset.id;
            const icon = btn.querySelector('ion-icon');
            const isInWishlist = icon.getAttribute('name') === 'heart';
    
            try {
              const res = await fetch('/api/wishlist', {
                method: isInWishlist ? 'DELETE' : 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ activity_id: activityId })
              });
    
              if (res.ok) {
                icon.setAttribute('name', isInWishlist ? 'heart-outline' : 'heart');
                if (countDisplay) {
                  let count = parseInt(countDisplay.textContent, 10);
                  countDisplay.textContent = isInWishlist ? count - 1 : count + 1;
                }
              } else {
                const { error } = await res.json();
                alert(error || 'Wishlist update failed.');
              }
            } catch (err) {
              console.error('Failed to update wishlist:', err);
            }
          });
        });
      } catch (err) {
        console.error('❌ Error loading activities:', err);
        container.innerHTML = '<p class="text-red-600">Failed to load activities.</p>';
      }
    });
    </script>
    
</html>
